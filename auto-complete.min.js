!function t(e,i,s){function o(a,r){if(!i[a]){if(!e[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(n)return n(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[a]={exports:{}};e[a][0].call(h.exports,function(t){var i=e[a][1][t];return o(i?i:t)},h,h.exports,t,e,i,s)}return i[a].exports}for(var n="function"==typeof require&&require,a=0;a<s.length;a++)o(s[a]);return o}({1:[function(t,e,i){tui.util.defineNamespace("tui.component.AutoComplete",t("./src/js/AutoComplete"))},{"./src/js/AutoComplete":2}],2:[function(t,e,i){var s=t("./manager/data"),o=t("./manager/input"),n=t("./manager/result"),a=tui.util.defineClass({flowMap:{NEXT:"next",PREV:"prev",FIRST:"first",LAST:"last"},watchInterval:200,init:function(t){if(this.options={},this._checkValidation(t)){var e,i="_atcp_use_cookie";this.options.toggleImg&&this.options.onoffTextElement?(e=$.cookie(this.options.cookieName),this.isUse=!("use"!==e&&e)):(this.isUse=!0,delete this.options.onoffTextElement),this.options.cookieName||(this.options.cookieName=i),this.options.watchInterval=tui.util.isExisty(this.options.watchInterval)?this.options.watchInterval:this.watchInterval,this.dataManager=new s(this,this.options),this.inputManager=new o(this,this.options),this.resultManager=new n(this,this.options),this.querys=null,this.isIdle=!0,this.setToggleBtnImg(this.isUse),this.setCookieValue(this.isUse)}},_checkValidation:function(t){var e,i;if(e=t.config,!tui.util.isExisty(e))throw new Error("Config file is not avaliable. #"+e);i=tui.util.keys(e);var s,o=i.length,n=["resultListElement","searchBoxElement","orgQueryElement","subQuerySet","template","listConfig","actions","formElement","searchUrl","searchApi"],a=[];for(s=0;o>s;s++)tui.util.inArray(i[s],n,0)>=0&&a.push(i[s]);for(tui.util.forEach(n,function(t){if(-1===tui.util.inArray(t,a,0))throw new Error(t+"does not not exist.");return"searchApi"!==t||!e.searchApi||e.searchUrl&&e.searchApi.st&&e.searchApi.r_lt?void 0:(alert("searchApi required value does not exist."),!1)}),s=0;o>s;s++){var r=i[s],l=e[r];"string"!=typeof l||"."!==l.charAt(0)&&"#"!==l.charAt(0)?this.options[r]=e[r]:this.options[r]=$(l)}return!0},request:function(t){this.dataManager.request(t)},getValue:function(){return this.inputManager.getValue()},setValue:function(t){this.inputManager.setValue(t)},setParams:function(t,e){this.inputManager.setParams(t,e)},setServerData:function(t){this.resultManager.draw(t)},setCookieValue:function(t){$.cookie(this.options.cookieName,t?"use":"notUse"),this.isUse=t,this.setToggleBtnImg(t)},setQuerys:function(t){this.querys=[].concat(t)},isUseAutoComplete:function(){return this.isUse},isShowResultList:function(){return this.resultManager.isShowResultList()},setToggleBtnImg:function(t){this.inputManager.setToggleBtnImg(t)},hideResultList:function(){this.isUseAutoComplete()&&this.resultManager.hideResultList()},showResultList:function(){this.isUseAutoComplete()&&this.resultManager.showResultList()},moveNextList:function(t){this.resultManager.moveNextList(t)},changeOnOffText:function(t){this.resultManager.changeOnOffText(t)},getMoved:function(){return this.resultManager.isMoved},setMoved:function(t){this.resultManager.isMoved=t},setSearchApi:function(t){tui.util.extend(this.options.searchApi,t)},clearReadyValue:function(){tui.util.isExisty(this.readyValue)?this.request(this.readyValue):this.isIdle=!0,this.readyValue=null}});tui.util.CustomEvents.mixin(a),e.exports=a},{"./manager/data":3,"./manager/input":4,"./manager/result":5}],3:[function(t,e,i){var s=tui.util.defineClass({init:function(t,e){return 2!=arguments.length?void alert("argument length error !"):(this.autoCompleteObj=t,void(this.options=e))},request:function(t){var e=t.replace(/\s/g,"");if(!t||!e)return void this.autoCompleteObj.hideResultList();var i,s={q:t,r_enc:"UTF-8",q_enc:"UTF-8",r_format:"json",_callback:"dataCallback"},o=tui.util.extend(this.options.searchApi,s);$.ajax(this.options.searchUrl,{dataType:"jsonp",jsonpCallback:"dataCallback",data:o,type:"get",success:tui.util.bind(function(t){try{i=this._getCollectionData(t),this.autoCompleteObj.setQuerys(t.query),this.autoCompleteObj.setServerData(i),this.autoCompleteObj.clearReadyValue()}catch(e){throw new Error("[DataManager] Request faild.",e)}},this)})},_getCollectionData:function(t){var e=t.collections,i=[];return tui.util.forEach(e,function(t){if(!tui.util.isEmpty(t.items)){var e=this._getRedirectData(t);i.push({type:"title",values:[t.title]}),i=i.concat(e)}},this),i},_getRedirectData:function(t){var e=t.type,i=t.index,s=t.destination,o=[];return tui.util.forEachArray(t.items,function(t,n){n<=this.options.viewCount-1&&o.push({values:t,type:e,index:i,dest:s})},this),o}});e.exports=s},{}],4:[function(t,e,i){var s=tui.util.defineClass({keyCodeMap:{TAB:9,UP_ARROW:38,DOWN_ARROW:40},init:function(t,e){return 2!=arguments.length?void alert("argument length error !"):(this.autoCompleteObj=t,this.options=e,this.$searchBox=this.options.searchBoxElement,this.$toggleBtn=this.options.toggleBtnElement,this.$orgQuery=this.options.orgQueryElement,this.$formElement=this.options.formElement,this.inputValue=this.$searchBox.val(),void this._attachEvent())},getValue:function(){return this.$searchBox.val()},setValue:function(t){this.inputValue=t,this.$searchBox.val(t)},setParams:function(t,e){var i=this.options,s=i.listConfig[e],o=i.staticParams[s.staticParams];t&&tui.util.isString(t)&&(t=t.split(",")),(t&&!tui.util.isEmpty(t)||tui.util.isExisty(o))&&this._createParamSetByType(t,e)},_createParamSetByType:function(t,e){var i,s=this.options,o=s.listConfig[e],n=s.subQuerySet[o.subQuerySet],a=s.staticParams[o.staticParams];this.hiddens||this._createParamContainer(),tui.util.forEach(t,function(t,e){i=n[e],this.hiddens.append($('<input type="hidden" name="'+i+'" value="'+t+'" />'))},this),a&&this._createStaticParams(a)},_createStaticParams:function(t){t=t.split(","),tui.util.forEach(t,function(t){val=t.split("="),this.hiddens.append($('<input type="hidden" name="'+val[0]+'" value="'+val[1]+'" />'))},this)},_createParamContainer:function(){this.hiddens=$('<div class="hidden-inputs"></div>'),this.hiddens.hide(),this.hiddens.appendTo($(this.$formElement))},setToggleBtnImg:function(t){this.options.toggleImg&&this.$toggleBtn&&(t?this.$toggleBtn.attr("src",this.options.toggleImg.on):this.$toggleBtn.attr("src",this.options.toggleImg.off))},_attachEvent:function(){this.$searchBox.bind("focus keyup keydown blur click",$.proxy(function(t){switch(t.type){case"focus":this._onFocus();break;case"blur":this._onBlur(t);break;case"keyup":this._onKeyUp(t);break;case"keydown":this._onKeyDown(t);break;case"click":this._onClick()}},this)),this.$toggleBtn&&this.$toggleBtn.bind("click",$.proxy(function(t){this._onClickToggle()},this))},_setOrgQuery:function(t){this.$orgQuery.val(t)},_onClick:function(){return this.autoCompleteObj.getValue()&&this.autoCompleteObj.isUseAutoComplete()?void(this.autoCompleteObj.isShowResultList()?this.autoCompleteObj.hideResultList():this.autoCompleteObj.showResultList()):!1},_onFocus:function(){this.intervalId=setInterval($.proxy(function(){this._onWatch()},this),this.options.watchInterval)},_onWatch:function(){""===this.$searchBox.val()&&(this._setOrgQuery(""),this.autoCompleteObj.setMoved(!1)),this.inputValue!==this.$searchBox.val()?(this.inputValue=this.$searchBox.val(),this._onChange()):this.autoCompleteObj.getMoved()||this._setOrgQuery(this.$searchBox.val())},_onKeyUp:function(){this.inputValue!==this.$searchBox.val()&&(this.inputValue=this.$searchBox.val(),this._onChange())},_onChange:function(){this.autoCompleteObj.isUseAutoComplete()&&(this.autoCompleteObj.isIdle?(this.autoCompleteObj.isIdle=!1,this.autoCompleteObj.request(this.$searchBox.val())):this.autoCompleteObj.readyValue=this.$searchBox.val())},_onBlur:function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},_onKeyDown:function(t){var e=this.autoCompleteObj;if(e.isUseAutoComplete()&&e.isShowResultList()){var i=t.keyCode,s=null,o=this.keyCodeMap,n=e.flowMap;if(i===o.TAB)t.preventDefault(),s=t.shiftKey?n.NEXT:n.PREV;else if(i===o.DOWN_ARROW)s=n.NEXT;else{if(i!==o.UP_ARROW)return;s=n.PREV}e.moveNextList(s)}},_onClickToggle:function(){this.autoCompleteObj.isUseAutoComplete()?(this.autoCompleteObj.hideResultList(),this.setToggleBtnImg(!1),this.autoCompleteObj.setCookieValue(!1),this.autoCompleteObj.changeOnOffText(!0)):(this.setToggleBtnImg(!0),this.autoCompleteObj.setCookieValue(!0),this.autoCompleteObj.changeOnOffText(!1))}});e.exports=s},{}],5:[function(t,e,i){var s=tui.util.defineClass({init:function(t,e){this.autoCompleteObj=t,this.options=e,this.$resultList=this.options.resultListElement,this.resultSelector=this.options.resultListElement,this.viewCount=this.options.viewCount||10,this.$onOffTxt=this.options.onoffTextElement,this.mouseOverClass=this.options.mouseOverClass,this.flowMap=this.autoCompleteObj.flowMap,this._attachEvent(),this.selectedElement=null,this.isMoved=!1},_deleteBeforeElement:function(){this.$resultList.html(""),this.$resultList.hide(),this.selectedElement=null},draw:function(t){this._deleteBeforeElement();var e=t.length;1>e?this._hideBottomArea():this._makeResultList(t,e),this.$resultList.show(),this._showBottomArea()},_makeResultList:function(t,e){var i,s,o,n,a,r,l=this.options.template,u=this.options.listConfig,h=this.options.useTitle&&!!l.title;for(r=0;e>r;r++)o=t[r].type,s=t[r].index,i=u[s]?l[u[s].template]:l.defaults,("title"!==o||(i=l.title,h))&&(n=this._getTmplData(i.attr,t[r]),a=$(this._applyTemplate(i.element,n)),a.attr("data-params",n.params),a.attr("data-index",s),this.$resultList.append(a))},_getTmplData:function(t,e){var i={},s=e.values||null;return tui.util.isString(e)?(i[t[0]]=e,i):(tui.util.forEach(t,function(t,e){i[t]=s[e]}),t.length<s.length&&(i.params=s.slice(t.length)),i)},isShowResultList:function(){return"block"===this.$resultList.css("display")},hideResultList:function(){this.$resultList.css("display","none"),this._hideBottomArea(),this.autoCompleteObj.isIdle=!0,this.autoCompleteObj.fire("close")},showResultList:function(){var t=this;setTimeout(function(){t.$resultList.css("display","block")},0),this._showBottomArea()},moveNextList:function(t){var e,i=this.flowMap,s=this.selectedElement,o=t===i.NEXT?this._getNext:this._getPrev,n=t===i.NEXT?this._getFirst:this._getLast;this.isMoved=!0,s?(s.removeClass(this.mouseOverClass),s=this.selectedElement=o.call(this,s)):s=this.selectedElement=n.call(this),e=s.find(".keyword-field").text(),s&&e?(s.addClass(this.mouseOverClass),this.autoCompleteObj.setValue(e),this._setSubmitOption()):s&&this.moveNextList(t)},changeOnOffText:function(t){t?(this.$onOffTxt.text("자동완성 켜기"),this.hideResultList()):this.$onOffTxt.text("자동완성 끄기")},_attachEvent:function(){this.$resultList.bind("mouseover click",$.proxy(function(t){"mouseover"===t.type?this._onMouseOver(t):"click"===t.type&&this._onClick(t)},this)),this.$onOffTxt&&this.$onOffTxt.bind("click",$.proxy(function(){this._useAutoComplete()},this)),$(document).bind("click",$.proxy(function(t){"html"===t.target.tagName.toLowerCase()&&this.hideResultList()},this))},_applyTemplate:function(t,e){var i,s={};for(i in e)s[i]=e[i],"subject"===i&&(s.subject=this._highlight(e.subject)),e.propertyIsEnumerable(i)&&(t=t.replace(new RegExp("@"+i+"@","g"),s[i]));return t},_highlight:function(t){var e,i=this.autoCompleteObj.querys;return tui.util.forEach(i,function(i){e||(e=t),e=this._makeStrong(e,i)},this),e||t},_makeStrong:function(t,e){if(!e||e.length<1)return t;var i,s,o,n=new RegExp("[.*+?|()\\[\\]{}\\\\]","g"),a=e.replace(/()/g," ").replace(/^\s+|\s+$/g,""),r=a.match(/\S/g),l=r.length,u=[],h="";for(o=0,s=l;s>o;o++)u.push(r[o].replace(/[\S]+/g,"["+r[o].toLowerCase().replace(n,"\\$&")+"|"+r[o].toUpperCase().replace(n,"\\$&")+"] ").replace(/[\s]+/g,"[\\s]*"));return a="("+u.join("")+")",i=new RegExp(a),i.test(t)&&(h=t.replace(i,"<strong>"+RegExp.$1+"</strong>")),h},_getFirst:function(){return this._orderStage(this.flowMap.FIRST)},_getLast:function(){return this._orderStage(this.flowMap.LAST)},_orderStage:function(t){return t=t===this.flowMap.FIRST?"first":"last",this.$resultList&&this.$resultList.children()&&this.$resultList.children().length?this.$resultList.children()[t]():null},_getNext:function(t){return this._orderElement(this.flowMap.NEXT,t)},_getPrev:function(t){return this._orderElement(this.flowMap.PREV,t)},_orderElement:function(t,e){if(!tui.util.isExisty(e))return null;var i,s=$(e),o=t===this.flowMap.NEXT;return s.closest(this.resultSelector)?(i=o?e.next():e.prev(),i.length?i:o?this._getFirst():this._getLast()):void 0},_useAutoComplete:function(){var t=this.autoCompleteObj.isUseAutoComplete();this.changeOnOffText(t),this.autoCompleteObj.setCookieValue(!t)},_showBottomArea:function(){this.$onOffTxt&&this.$onOffTxt.show()},_hideBottomArea:function(){this.$onOffTxt&&this.$onOffTxt.hide()},_setSubmitOption:function(t){this._clearSubmitOption();var e,i=this.options.formElement,s=t?$(t).closest("li"):$(this.selectedElement),o=this.options.actions,n=s.attr("data-index"),a=this.options.listConfig[n],r=o[a.action];$(i).attr("action",r),e=s.attr("data-params"),this.autoCompleteObj.setParams(e,n),this.autoCompleteObj.fire("change",{index:n,action:r,params:e})},_clearSubmitOption:function(t){var e=this.options.formElement,i=$(e).find(".hidden-inputs");i.html("")},_onMouseOver:function(t){var e=$(t.target),i=this.$resultList.find("li"),s=e.closest("li");tui.util.forEachArray(i,function(t){$(t).removeClass(this.mouseOverClass)},this),s&&s.find(".keyword-field").length&&s.addClass(this.mouseOverClass),this.selectedElement=e},_onClick:function(t){var e=$(t.target),i=this.options.formElement,s=e.closest("li"),o=s.find(".keyword-field"),n=o.text();this.autoCompleteObj.setValue(n),i&&n&&(this._setSubmitOption(e),i.submit())}});e.exports=s},{}]},{},[1]);